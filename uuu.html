<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.8.0/styles/default.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.17.0/dist/style.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.8.5/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.17.0/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.17.0/dist/index.js"></script><script>(r => {
                setTimeout(r);
              })(() => {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"Mon CMS","children":[{"content":"Base","children":[{"content":"1 / Base Laravel","children":[{"content":"<em>composer  create-project laravel/laravel moncms --prefer-dist</em>","children":[],"payload":{"lines":"8,9"}},{"content":"Paramètres .env file (APP_NAME, APP_URL &amp; DB_DATABASE)","children":[],"payload":{"lines":"9,10"}},{"content":"Ajout Fr : <em>composer require --dev laravel-lang/common<br>\nphp artisan lang:update</em>","children":[],"payload":{"lines":"10,13"}}],"payload":{"lines":"6,7","fold":1}},{"content":"2 / Gestion des Models et Tables","children":[{"content":"Tables:","children":[{"content":"Migration seule : <em>php artisan make:migration create_nnn_table</em>","children":[],"payload":{"lines":"16,17"}},{"content":"Factory : <em>php artisan make:factory MmmFactory</em>","children":[],"payload":{"lines":"17,18"}},{"content":"Seeders : <em>php artisan make:seeder MmmSeeder</em>","children":[],"payload":{"lines":"18,19"}},{"content":"Penser à appeler les seeders dans database/seeders/DataBaseSeeder.php:<br>\n<em>$this-&gt;call([<br>\nMmm1Seeder::class,<br>\nMmm2Seeder::class,<br>\netc...]);</em>","children":[],"payload":{"lines":"19,24"}},{"content":"Puis les exécuter : <em>php artisan db:seed</em>","children":[],"payload":{"lines":"24,25"}}],"payload":{"lines":"15,25","fold":1}},{"content":"Models + migration :","children":[{"content":"Migrations","children":[{"content":"<em>php artisan make:model Mmm --migration</em> ou<br>\n<em>php artisan make:model Mmm -m</em>","children":[],"payload":{"lines":"27,29"}},{"content":"<em>php artisan migrate</em> la 1ère fois","children":[],"payload":{"lines":"29,30"}},{"content":"<em>php artisan migrate:refresh --seed</em> ensuite","children":[],"payload":{"lines":"30,31"}}],"payload":{"lines":"26,31"}},{"content":"Model (Mmm) :","children":[{"content":"<em>protected $timestamps = false;</em>","children":[],"payload":{"lines":"32,33"}},{"content":"<em>protected $fillable = ['name', 'email', 'password', 'role', 'valid'];</em>","children":[],"payload":{"lines":"33,34"}}],"payload":{"lines":"31,34"}},{"content":"Relations :","children":[{"content":"1:n :","children":[{"content":"(1) : Dans MmmN","children":[{"content":"<em>use Illuminate\\Database\\Eloquent\\Relations\\BelongsTo;</em>","children":[],"payload":{"lines":"37,38"}},{"content":"<em>public function Mmm1(): BelongsTo {<br>\nreturn $this-&gt;belongsTo(Mmm1::class);}</em>","children":[],"payload":{"lines":"38,40"}}],"payload":{"lines":"36,40"}},{"content":"(n) : Dans Mmm1","children":[{"content":"<em>use Illuminate\\Database\\Eloquent\\Relations\\HasMany;</em>","children":[],"payload":{"lines":"41,42"}},{"content":"<em>public function MmmN(): HasMany {<br>\nreturn $this-&gt;HasMany(MmmN::class);}</em>","children":[],"payload":{"lines":"42,45"}}],"payload":{"lines":"40,45"}}],"payload":{"lines":"35,45"}}],"payload":{"lines":"34,45"}}],"payload":{"lines":"25,45","fold":1}}],"payload":{"lines":"13,14","fold":1}},{"content":"3 / Divers","children":[{"content":"\n<p data-lines=\"47,48\">helpers:</p>","children":[{"content":"app/helpers.php (Y écrire les fonctions appelées souvent un peu n'importe où)","children":[],"payload":{"lines":"49,50"}},{"content":"Dans composer.json :<br>\n<em>\"autoload\": {<br>\n\"files\": [<br>\n\"app/helpers.php\"<br>\n],...},</em>","children":[],"payload":{"lines":"50,55"}}],"payload":{"lines":"47,55"}},{"content":"\n<p data-lines=\"55,56\">composer dumpautoload</p>","children":[],"payload":{"lines":"55,57"}}],"payload":{"lines":"45,46","fold":1}},{"content":"Réf.: <strong><a href=\"https://laravel.sillo.org/posts/mon-cms-les-donnees\">https://laravel.sillo.org/posts/mon-cms-les-donnees</a></strong>","children":[],"payload":{"lines":"57,58"}}],"payload":{"lines":"4,5"}},{"content":"Technos FrontEnd","children":[{"content":"MaryUI","children":[{"content":"<em>composer require robsontenorio/mary</em>","children":[],"payload":{"lines":"63,64"}},{"content":"<em>php artisan mary:install</em>","children":[{"content":"Doc MaryUI <a href=\"https://mary-ui.com\">https://mary-ui.com</a>","children":[],"payload":{"lines":"65,67"}}],"payload":{"lines":"64,67"}}],"payload":{"lines":"61,62","fold":1}},{"content":"Volt","children":[{"content":"Une vue Volt (Dans /route/web.php) :<br>\n<em>Volt::route('/<em>url</em>', 'dossier(s).fichier')-&gt;name('dossier.fichier');</em>","children":[],"payload":{"lines":"73,75"}},{"content":"Un nouveau composant Volt :<br>\n<em>php artisan make:volt dossier/fichier</em> --class","children":[{"content":"Class PHP","children":[],"payload":{"lines":"77,78"}},{"content":"Template Blade","children":[],"payload":{"lines":"78,79"}}],"payload":{"lines":"75,79"}},{"content":"À utiliser pour faire register / login / forgot-password<br>\n(En pensant aussi à faire les routes correspondantes)","children":[],"payload":{"lines":"79,82"}}],"payload":{"lines":"71,72","fold":1}},{"content":"Référence: <strong><a href=\"https://laravel.sillo.org/posts/mon-cms-lauthentification\">https://laravel.sillo.org/posts/mon-cms-lauthentification</a></strong>","children":[],"payload":{"lines":"82,83"}}],"payload":{"lines":"59,60"}},{"content":"FrontEnd","children":[{"content":"index (HomePage)","children":[{"content":"Image","children":[{"content":"<em>php artisan storage:link</em><br>\n(Lien symbolique de public/storage vers storage/app/public)","children":[],"payload":{"lines":"90,93"}}],"payload":{"lines":"88,89"}},{"content":"Référence: <strong><a href=\"https://laravel.sillo.org/posts/mon-cms-la-page-daccueil\">https://laravel.sillo.org/posts/mon-cms-la-page-daccueil</a></strong>","children":[],"payload":{"lines":"93,94"}}],"payload":{"lines":"86,87","fold":1}},{"content":"Les articles","children":[{"content":"posts/show","children":[],"payload":{"lines":"97,98"}},{"content":"Dynamic Title/Description/Keywords (S.E.O.)","children":[{"content":"<strong>Layout:</strong><br>\ntitle :<br>\n<em>&lt;title&gt;{{ (isset($title) ? $title . ' | ' :<br>\n(View::hasSection('title') ? View::getSection('title') . ' | ' :<br>\n'')) . config('app.name') }}<br>\n&lt;meta name=\"description\" content=\"@yield('description')\"&gt;<br>\n&lt;meta name=\"keywords\" content=\"@yield('keywords')\"&gt;</em>","children":[],"payload":{"lines":"101,108"}},{"content":"<strong>Vue</strong> (Blade):<br>\n@php<br>\n&nbsp;&nbsp;$title='TitrePage'<br>\n@endphp<br>\nou :<br>\n@section('title', $post-&gt;seo_title ?? $post-&gt;title)<br>\nEt :<br>\n@section('description', $post-&gt;meta_description)<br>\n@section('keywords', $post-&gt;meta_keywords","children":[],"payload":{"lines":"108,118"}}],"payload":{"lines":"99,100","fold":1}},{"content":"Plugin prose de Tailwind","children":[{"content":"<em>npm install -D @tailwindcss/typography</em>","children":[],"payload":{"lines":"120,121"}},{"content":"exports default {<br>\n&nbsp;&nbsp;...<br>\n&nbsp;&nbsp;plugins: [<br>\n&nbsp;&nbsp;&nbsp;&nbsp;plugins: [require(\"@tailwindcss/typography\"), require(\"daisyui\")],<br>\n&nbsp;&nbsp;],<br>\n}","children":[],"payload":{"lines":"121,127"}},{"content":"<em>&lt;div class=\"relative items-center w-full py-5 mx-auto prose md:px-12 max-w-7xl\"&gt;</em>","children":[],"payload":{"lines":"127,129"}}],"payload":{"lines":"118,119","fold":1}},{"content":"Librairie prismjs","children":[{"content":"Configure prism.css et prism.js : <a href=\"https://prismjs.com/download.html\">https://prismjs.com/download.html</a>","children":[],"payload":{"lines":"131,132"}},{"content":"Poser dans layout:<br>\n...<br>\n&lt;head&gt;<br>\n...<br>\n&nbsp;&nbsp;<em><strong>&lt;link rel=\"stylesheet\" href=\"{{ asset('storage/css/prism.css') }}\"&gt;</strong></em><br>\n&lt;/head&gt;<br>\n&lt;body class=\"min-h-screen font-sans antialiased bg-base-200/50 dark:bg-base-200\"&gt;<br>\n...<br>\n&nbsp;&nbsp;<em><strong>&lt;script src=\"{{ asset('storage/scripts/prism.js') }}\"&gt;</strong></em><br>\n&lt;/body&gt;","children":[],"payload":{"lines":"132,143"}}],"payload":{"lines":"129,130","fold":1}},{"content":"Mode clair/sombre","children":[{"content":"\n<p data-lines=\"145,150\">tailwind.config.js :<br>\n<em>export default {<br>\n...<br>\n&nbsp;&nbsp;darkMode: 'class',<br>\n}</em></p>","children":[],"payload":{"lines":"145,151"}},{"content":"\n<p data-lines=\"151,155\">navigation/navbar.blade.php :<br>\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;x-theme-toggle title=\"{{ __('Toggle theme') }}\" class=\"w-4 h-8\" /&gt;<br>\n&nbsp;&nbsp;&lt;/x-slot:actions&gt;<br>\n&lt;/x-nav&gt;</p>","children":[],"payload":{"lines":"151,156"}},{"content":"\n<p data-lines=\"156,157\">Doc MaryUI <a href=\"https://mary-ui.com/docs/components/theme-toggle\">https://mary-ui.com/docs/components/theme-toggle</a></p>","children":[],"payload":{"lines":"156,158"}}],"payload":{"lines":"143,144","fold":1}},{"content":"Search bar","children":[{"content":"Composant search","children":[{"content":"<pre data-lines=\"162,163\"><code>(PHP (La logique)\n</code></pre>","children":[],"payload":{"lines":"162,163"}},{"content":"<pre><code class=\"language-bash\">  use Livewire\\Attributes\\Validate;\n  use Livewire\\Volt\\Component;\n  \n  new class() extends Component {\n  \n      <span class=\"hljs-comment\">#[Validate('required|string|max:100')]</span>\n      public string <span class=\"hljs-variable\">$search</span> = <span class=\"hljs-string\">''</span>;\n  \n      public <span class=\"hljs-keyword\">function</span> <span class=\"hljs-function\"><span class=\"hljs-title\">save</span></span>() {\n      <span class=\"hljs-variable\">$data</span> = <span class=\"hljs-variable\">$this</span>-&gt;validate();\n  \n      <span class=\"hljs-built_in\">return</span> redirect(<span class=\"hljs-string\">'/search/'</span> . <span class=\"hljs-variable\">$data</span>[<span class=\"hljs-string\">'search'</span>]);\n      }\n  };\n</code></pre>","children":[]},{"content":"<pre data-lines=\"181,182\"><code>HTML (Blade) pour La Vue)\n</code></pre>","children":[],"payload":{"lines":"181,182"}},{"content":"<pre><code class=\"language-bash\">  &lt;div&gt;\n    &lt;form wire:submit.prevent=<span class=\"hljs-string\">\"save\"</span>&gt;\n    &lt;x-input placeholder=<span class=\"hljs-string\">\"{{ __('Search') }}...\"</span> wire:model=<span class=\"hljs-string\">\"search\"</span> clearable icon=<span class=\"hljs-string\">\"o-magnifying-glass\"</span> /&gt;\n    &lt;/form&gt;\n  &lt;/div&gt;\n</code></pre>","children":[]}],"payload":{"lines":"160,161","fold":1}},{"content":"Traduction nécessaire (<strong>fr.json</strong>)","children":[{"content":"<strong>\"Search...\": \"Rechercher...\",</strong>","children":[],"payload":{"lines":"193,195"}}],"payload":{"lines":"191,192","fold":1}},{"content":"La route (route/web.php)","children":[{"content":"<pre><code class=\"language-bash\">*Volt::route(<span class=\"hljs-string\">'/search/{param}'</span>, <span class=\"hljs-string\">'index'</span>)-&gt;name(<span class=\"hljs-string\">'posts.search'</span>);*\n</code></pre>","children":[]}],"payload":{"lines":"195,196","fold":1}},{"content":"Ajouter dans app/Repositories/PostRepository.php","children":[{"content":"<pre data-lines=\"205,206\"><code>La fonction qui inclue la chaîne du formulaire pour gérer la recherche :\n</code></pre>","children":[],"payload":{"lines":"205,206"}},{"content":"<pre><code class=\"language-php\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">search</span>(<span class=\"hljs-params\"><span class=\"hljs-keyword\">string</span> <span class=\"hljs-variable\">$search</span></span>): <span class=\"hljs-title\">LengthAwarePaginator</span> </span>{\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">getBaseQuery</span>()\n      -&gt;<span class=\"hljs-title function_ invoke__\">latest</span>()\n      -&gt;<span class=\"hljs-title function_ invoke__\">where</span>(function (<span class=\"hljs-variable\">$query</span>) <span class=\"hljs-keyword\">use</span> ($<span class=\"hljs-title\">search</span>) {\n      $<span class=\"hljs-title\">query</span>-&gt;<span class=\"hljs-title\">where</span>('<span class=\"hljs-title\">title</span>', '<span class=\"hljs-title\">like</span>', \"%{$<span class=\"hljs-title\">search</span>}%\")\n        -&gt;<span class=\"hljs-title\">orWhere</span>('<span class=\"hljs-title\">body</span>', '<span class=\"hljs-title\">like</span>', \"%{$<span class=\"hljs-title\">search</span>}%\");\n      })\n      -&gt;<span class=\"hljs-title function_ invoke__\">paginate</span>(<span class=\"hljs-title function_ invoke__\">config</span>(<span class=\"hljs-string\">'app.pagination'</span>));\n  }\n</code></pre>","children":[]}],"payload":{"lines":"203,204","fold":1}},{"content":"Composant index (Homepage (Page d'accueil))","children":[{"content":"<strong>Bloc PHP</strong> : Quand on récupère les posts","children":[{"content":"<pre data-lines=\"223,225\"><code>(function getPosts()), on déclenche le composant search\nsi l'URI comporte un paramètre) :\n</code></pre>","children":[],"payload":{"lines":"223,225"}},{"content":"<pre><code class=\"language-php\"><span class=\"hljs-keyword\">if</span> (!<span class=\"hljs-keyword\">empty</span>(<span class=\"hljs-variable language_\">$this</span>-&gt;param)) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable\">$postRepository</span>-&gt;<span class=\"hljs-title function_ invoke__\">search</span>(<span class=\"hljs-variable\">$this</span>-&gt;param);\n}\n</code></pre>","children":[]}],"payload":{"lines":"221,222"}},{"content":"<strong>Bloc Vue Blade</strong> : S'il y a une recherche","children":[{"content":"<pre data-lines=\"234,235\"><code>Alors, on affiche le titre de la page adapté :\n</code></pre>","children":[],"payload":{"lines":"234,235"}},{"content":"<pre><code class=\"language-php\">    @<span class=\"hljs-keyword\">if</span> (<span class=\"hljs-variable\">$category</span>)\n        &lt;x-header title=<span class=\"hljs-string\">\"{{ __('Posts for category ') }} {{ <span class=\"hljs-subst\">$category</span>-&gt;title }}\"</span> size=<span class=\"hljs-string\">\"text-2xl sm:text-3xl md:text-4xl\"</span> /&gt;\n    @<span class=\"hljs-keyword\">elseif</span>(<span class=\"hljs-variable\">$param</span> !== <span class=\"hljs-string\">''</span>)\n        &lt;x-header title=<span class=\"hljs-string\">\"{{ __('Posts for search ') }} '{{ <span class=\"hljs-subst\">$param</span> }}'\"</span> size=<span class=\"hljs-string\">\"text-2xl sm:text-3xl md:text-4xl\"</span> /&gt;\n    @<span class=\"hljs-keyword\">endif</span>\n</code></pre>","children":[]},{"content":"<pre data-lines=\"244,245\"><code>Traduction: \n</code></pre>","children":[],"payload":{"lines":"244,245"}},{"content":"<pre><code class=\"language-php\">    <span class=\"hljs-string\">\"Posts for search \"</span>: <span class=\"hljs-string\">\"Articles pour la recherche \"</span>,\n</code></pre>","children":[]}],"payload":{"lines":"232,233"}}],"payload":{"lines":"219,220","fold":1}},{"content":"Vue HTML - navigation/navbar.php","children":[{"content":"<pre><code class=\"language-php\">      &lt;x-theme-toggle title=\"{{ __('Toggle theme') }}\" class=\"w-4 h-8\" /&gt;\n      &lt;livewire:search /&gt;\n  &lt;/x-slot:actions&gt;\n&lt;/x-nav&gt;\n</code></pre>","children":[]}],"payload":{"lines":"250,251","fold":1}}],"payload":{"lines":"158,159","fold":1}},{"content":"Référence: <strong><a href=\"https://laravel.sillo.org/posts/mon-cms-les-articles\">https://laravel.sillo.org/posts/mon-cms-les-articles</a></strong>","children":[],"payload":{"lines":"259,260"}}],"payload":{"lines":"95,96","fold":1}},{"content":"Les menus (Gérés par backoffice)","children":[{"content":"Les données","children":[],"payload":{"lines":"263,264"}},{"content":"Composant frontend","children":[],"payload":{"lines":"265,266"}},{"content":"Barre de Navigation","children":[],"payload":{"lines":"267,268"}},{"content":"Menu Pied de page","children":[],"payload":{"lines":"269,270"}},{"content":"Dynamic Title/Description/Keywords (S.E.O.)","children":[{"content":"<strong>Layout:</strong><br>\ntitle :<br>\n<em>&lt;title&gt;{{ (isset($title) ? $title . ' | ' :<br>\n(View::hasSection('title') ? View::getSection('title') . ' | ' :<br>\n'')) . config('app.name') }}<br>\n&lt;meta name=\"description\" content=\"@yield('description')\"&gt;<br>\n&lt;meta name=\"keywords\" content=\"@yield('keywords')\"&gt;</em>","children":[],"payload":{"lines":"276,283"}},{"content":"<strong>Vue</strong> (Blade):<br>\n@php<br>\n&nbsp;&nbsp;$title='TitrePage'<br>\n@endphp<br>\nou :<br>\n@section('title', $post-&gt;seo_title ?? $post-&gt;title)<br>\nEt :<br>\n@section('description', $post-&gt;meta_description)<br>\n@section('keywords', $post-&gt;meta_keywords","children":[],"payload":{"lines":"283,293"}}],"payload":{"lines":"274,275","fold":1}},{"content":"Plugin prose de Tailwind","children":[{"content":"<em>npm install -D @tailwindcss/typography</em>","children":[],"payload":{"lines":"295,296"}},{"content":"exports default {<br>\n&nbsp;&nbsp;...<br>\n&nbsp;&nbsp;plugins: [<br>\n&nbsp;&nbsp;&nbsp;&nbsp;plugins: [require(\"@tailwindcss/typography\"), require(\"daisyui\")],<br>\n&nbsp;&nbsp;],<br>\n}","children":[],"payload":{"lines":"296,302"}},{"content":"<em>&lt;div class=\"relative items-center w-full py-5 mx-auto prose md:px-12 max-w-7xl\"&gt;</em>","children":[],"payload":{"lines":"302,304"}}],"payload":{"lines":"293,294","fold":1}},{"content":"Librairie prismjs","children":[{"content":"Configure prism.css et prism.js : <a href=\"https://prismjs.com/download.html\">https://prismjs.com/download.html</a>","children":[],"payload":{"lines":"306,307"}},{"content":"Poser dans layout:<br>\n...<br>\n&lt;head&gt;<br>\n...<br>\n&nbsp;&nbsp;<em><strong>&lt;link rel=\"stylesheet\" href=\"{{ asset('storage/css/prism.css') }}\"&gt;</strong></em><br>\n&lt;/head&gt;<br>\n&lt;body class=\"min-h-screen font-sans antialiased bg-base-200/50 dark:bg-base-200\"&gt;<br>\n...<br>\n&nbsp;&nbsp;<em><strong>&lt;script src=\"{{ asset('storage/scripts/prism.js') }}\"&gt;</strong></em><br>\n&lt;/body&gt;","children":[],"payload":{"lines":"307,318"}}],"payload":{"lines":"304,305","fold":1}},{"content":"Mode clair/sombre","children":[{"content":"\n<p data-lines=\"320,325\">tailwind.config.js :<br>\n<em>export default {<br>\n...<br>\n&nbsp;&nbsp;darkMode: 'class',<br>\n}</em></p>","children":[],"payload":{"lines":"320,326"}},{"content":"\n<p data-lines=\"326,330\">navigation/navbar.blade.php :<br>\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;x-theme-toggle title=\"{{ __('Toggle theme') }}\" class=\"w-4 h-8\" /&gt;<br>\n&nbsp;&nbsp;&lt;/x-slot:actions&gt;<br>\n&lt;/x-nav&gt;</p>","children":[],"payload":{"lines":"326,331"}},{"content":"\n<p data-lines=\"331,332\">Doc MaryUI <a href=\"https://mary-ui.com/docs/components/theme-toggle\">https://mary-ui.com/docs/components/theme-toggle</a></p>","children":[],"payload":{"lines":"331,333"}}],"payload":{"lines":"318,319","fold":1}},{"content":"Search bar","children":[{"content":"Composant search","children":[{"content":"<pre data-lines=\"337,338\"><code>(PHP (La logique)\n</code></pre>","children":[],"payload":{"lines":"337,338"}},{"content":"<pre><code class=\"language-bash\">  use Livewire\\Attributes\\Validate;\n  use Livewire\\Volt\\Component;\n  \n  new class() extends Component {\n  \n      <span class=\"hljs-comment\">#[Validate('required|string|max:100')]</span>\n      public string <span class=\"hljs-variable\">$search</span> = <span class=\"hljs-string\">''</span>;\n  \n      public <span class=\"hljs-keyword\">function</span> <span class=\"hljs-function\"><span class=\"hljs-title\">save</span></span>() {\n      <span class=\"hljs-variable\">$data</span> = <span class=\"hljs-variable\">$this</span>-&gt;validate();\n  \n      <span class=\"hljs-built_in\">return</span> redirect(<span class=\"hljs-string\">'/search/'</span> . <span class=\"hljs-variable\">$data</span>[<span class=\"hljs-string\">'search'</span>]);\n      }\n  };\n</code></pre>","children":[]},{"content":"<pre data-lines=\"356,357\"><code>HTML (Blade) pour La Vue)\n</code></pre>","children":[],"payload":{"lines":"356,357"}},{"content":"<pre><code class=\"language-bash\">  &lt;div&gt;\n    &lt;form wire:submit.prevent=<span class=\"hljs-string\">\"save\"</span>&gt;\n    &lt;x-input placeholder=<span class=\"hljs-string\">\"{{ __('Search') }}...\"</span> wire:model=<span class=\"hljs-string\">\"search\"</span> clearable icon=<span class=\"hljs-string\">\"o-magnifying-glass\"</span> /&gt;\n    &lt;/form&gt;\n  &lt;/div&gt;\n</code></pre>","children":[]}],"payload":{"lines":"335,336","fold":1}},{"content":"Traduction nécessaire (<strong>fr.json</strong>)","children":[{"content":"<strong>\"Search...\": \"Rechercher...\",</strong>","children":[],"payload":{"lines":"368,370"}}],"payload":{"lines":"366,367","fold":1}},{"content":"La route (route/web.php)","children":[{"content":"<pre><code class=\"language-bash\">*Volt::route(<span class=\"hljs-string\">'/search/{param}'</span>, <span class=\"hljs-string\">'index'</span>)-&gt;name(<span class=\"hljs-string\">'posts.search'</span>);*\n</code></pre>","children":[]}],"payload":{"lines":"370,371","fold":1}},{"content":"Ajouter dans app/Repositories/PostRepository.php","children":[{"content":"<pre data-lines=\"380,381\"><code>La fonction qui inclue la chaîne du formulaire pour gérer la recherche :\n</code></pre>","children":[],"payload":{"lines":"380,381"}},{"content":"<pre><code class=\"language-php\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">search</span>(<span class=\"hljs-params\"><span class=\"hljs-keyword\">string</span> <span class=\"hljs-variable\">$search</span></span>): <span class=\"hljs-title\">LengthAwarePaginator</span> </span>{\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">getBaseQuery</span>()\n      -&gt;<span class=\"hljs-title function_ invoke__\">latest</span>()\n      -&gt;<span class=\"hljs-title function_ invoke__\">where</span>(function (<span class=\"hljs-variable\">$query</span>) <span class=\"hljs-keyword\">use</span> ($<span class=\"hljs-title\">search</span>) {\n      $<span class=\"hljs-title\">query</span>-&gt;<span class=\"hljs-title\">where</span>('<span class=\"hljs-title\">title</span>', '<span class=\"hljs-title\">like</span>', \"%{$<span class=\"hljs-title\">search</span>}%\")\n        -&gt;<span class=\"hljs-title\">orWhere</span>('<span class=\"hljs-title\">body</span>', '<span class=\"hljs-title\">like</span>', \"%{$<span class=\"hljs-title\">search</span>}%\");\n      })\n      -&gt;<span class=\"hljs-title function_ invoke__\">paginate</span>(<span class=\"hljs-title function_ invoke__\">config</span>(<span class=\"hljs-string\">'app.pagination'</span>));\n  }\n</code></pre>","children":[]}],"payload":{"lines":"378,379","fold":1}},{"content":"Composant index (Homepage (Page d'accueil))","children":[{"content":"<strong>Bloc PHP</strong> : Quand on récupère les posts","children":[{"content":"<pre data-lines=\"398,400\"><code>(function getPosts()), on déclenche le composant search\nsi l'URI comporte un paramètre) :\n</code></pre>","children":[],"payload":{"lines":"398,400"}},{"content":"<pre><code class=\"language-php\"><span class=\"hljs-keyword\">if</span> (!<span class=\"hljs-keyword\">empty</span>(<span class=\"hljs-variable language_\">$this</span>-&gt;param)) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable\">$postRepository</span>-&gt;<span class=\"hljs-title function_ invoke__\">search</span>(<span class=\"hljs-variable\">$this</span>-&gt;param);\n}\n</code></pre>","children":[]}],"payload":{"lines":"396,397"}},{"content":"<strong>Bloc Vue Blade</strong> : S'il y a une recherche","children":[{"content":"<pre data-lines=\"409,410\"><code>Alors, on affiche le titre de la page adapté :\n</code></pre>","children":[],"payload":{"lines":"409,410"}},{"content":"<pre><code class=\"language-php\">    @<span class=\"hljs-keyword\">if</span> (<span class=\"hljs-variable\">$category</span>)\n        &lt;x-header title=<span class=\"hljs-string\">\"{{ __('Posts for category ') }} {{ <span class=\"hljs-subst\">$category</span>-&gt;title }}\"</span> size=<span class=\"hljs-string\">\"text-2xl sm:text-3xl md:text-4xl\"</span> /&gt;\n    @<span class=\"hljs-keyword\">elseif</span>(<span class=\"hljs-variable\">$param</span> !== <span class=\"hljs-string\">''</span>)\n        &lt;x-header title=<span class=\"hljs-string\">\"{{ __('Posts for search ') }} '{{ <span class=\"hljs-subst\">$param</span> }}'\"</span> size=<span class=\"hljs-string\">\"text-2xl sm:text-3xl md:text-4xl\"</span> /&gt;\n    @<span class=\"hljs-keyword\">endif</span>\n</code></pre>","children":[]},{"content":"<pre data-lines=\"419,420\"><code>Traduction: \n</code></pre>","children":[],"payload":{"lines":"419,420"}},{"content":"<pre><code class=\"language-php\">    <span class=\"hljs-string\">\"Posts for search \"</span>: <span class=\"hljs-string\">\"Articles pour la recherche \"</span>,\n</code></pre>","children":[]}],"payload":{"lines":"407,408"}}],"payload":{"lines":"394,395","fold":1}},{"content":"Vue HTML - navigation/navbar.php","children":[{"content":"<pre><code class=\"language-php\">      &lt;x-theme-toggle title=\"{{ __('Toggle theme') }}\" class=\"w-4 h-8\" /&gt;\n      &lt;livewire:search /&gt;\n  &lt;/x-slot:actions&gt;\n&lt;/x-nav&gt;\n</code></pre>","children":[]}],"payload":{"lines":"425,426","fold":1}}],"payload":{"lines":"333,334","fold":1}},{"content":"Référence: <strong><a href=\"https://laravel.sillo.org/posts/mon-cms-les-menus\">https://laravel.sillo.org/posts/mon-cms-les-menus</a></strong>","children":[],"payload":{"lines":"434,435"}}],"payload":{"lines":"261,262"}}],"payload":{"lines":"84,85"}}],"payload":{"lines":"0,1"}},{"duration":2000,"initialExpandLevel":-1})</script>
</body>
</html>
